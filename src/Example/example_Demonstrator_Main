/*
*
* copy the source code into your tgg model (e.g. Hospital2Administration)
* add emfViz to the Manifest > Dependencies
*
*
*/

/*package Demonstrator;*/

import java.io.IOException;
import java.util.function.Function;

import org.emoflon.ibex.tgg.operational.defaults.IbexOptions;
import org.emoflon.ibex.tgg.operational.strategies.gen.MODELGEN;
import org.emoflon.ibex.tgg.operational.strategies.sync.INITIAL_FWD;
import org.emoflon.ibex.tgg.run.hospital2administration.config.HiPERegistrationHelper;

import Main.ModelLoader_INITIAL_FWD;

public class Main {

	public static void main(String[] args) {
		/*
		 * just to get the workspace and project path
		 * no further intended use
		 */
		HiPERegistrationHelper registrationHelper = new HiPERegistrationHelper();
		IbexOptions options = registrationHelper.createIbexOptions();
		String projectPath = options.project.path();
		String workspacePath = options.project.workspacePath();
		
		
		////////////////////////////////////////////////////////////////////////
				
		/*
		* forward this to TGGDeomnstrator to use INITIAL_FWD_Demonstrator 
		*/	
		Function<String, INITIAL_FWD> constructor_INITIAL_FWD = (path) -> {
			try {
				return new INITIAL_FWD_Demonstrator(path);
			} catch (IOException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
			return null;
		};
		
		////////////////////////////////////////////////////////////////////////
				
		/*
		* forward this to TGGDeomnstrator to use INITIAL_BWD_Demonstrator 
		*/	
		Function<String, INITIAL_BWD> constructor_INITIAL_BWD = (path) -> {
			try {
				return new INITIAL_BWD_Demonstrator(path);
			} catch (IOException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
			return null;
		};
		
		////////////////////////////////////////////////////////////////////////
		
		/*
		 * forward this to TGGDeomnstrator to use MODELGEN_Demonstrator 
		 */	
		Function<String[], MODELGEN> constructor_MODELGEN = (path)->{
			try {
				return new MODELGEN_Demonstrator(path[0], path[1]);
			} catch (IOException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
			return null;
		};
		
		
	
		ModelLoader_INITIAL_FWD demon = new ModelLoader_INITIAL_FWD(constructor, projectPath, workspacePath);
		//Demonstrator demonstrator = new Demonstrator(app);

	}

}
